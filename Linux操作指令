nohup mim install "mmcv==2.1.0" > mmcv_install.log 2>&1 &
tail -f mmcv_install.log

gcloud compute scp --recurse "D:\è§†é¢‘\å½•å±\3.mp4" rainlimingrui@deeplearning-ming:/home/rainlimingrui/rife --zone=us-west4-a --ssh-key-file ~/.ssh/google_compute_engine

åˆ›å»ºè„šæœ¬ 
touch my_script.py
ç¼–è¾‘è„šæœ¬ 
nano my_script.py


loud compute scp --recurse "D:\è§†é¢‘\keynumber.zip" rainlimingrui@deeplearning-ming:/home/rainlimingrui/openpose --zone=us-west4-b --ssh-key-file ~/.ssh/google_compute_engine
## **ğŸ”¹ 1. è¿œç¨‹è¿æ¥ & æ–‡ä»¶ç®¡ç†**
### **ï¼ˆ1ï¼‰è¿æ¥ GCP å®ä¾‹**
```bash
gcloud compute ssh rainlimingrui@deeplearning-ming --zone=us-west4-a
```
æˆ–è€…ï¼š
```bash
ssh rainlimingrui@34.16.165.120  # ä½ çš„å¤–éƒ¨ IP
```

### **ï¼ˆ2ï¼‰æŸ¥çœ‹å½“å‰ç›®å½• & åˆ‡æ¢ç›®å½•**
```bash
pwd            # æ˜¾ç¤ºå½“å‰æ‰€åœ¨ç›®å½•
ls -lah        # æŸ¥çœ‹å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…å«éšè—æ–‡ä»¶ & è¯¦ç»†ä¿¡æ¯ï¼‰
cd ~/rife      # è¿›å…¥ RIFE ç›®å½•
cd ..          # è¿”å›ä¸Šä¸€çº§ç›®å½•
cd /           # è¿”å›æ ¹ç›®å½•
```

### **ï¼ˆ3ï¼‰åˆ›å»º/åˆ é™¤/ç§»åŠ¨æ–‡ä»¶ & æ–‡ä»¶å¤¹**
```bash
mkdir new_folder     # åˆ›å»ºæ–‡ä»¶å¤¹
rm -rf temp/         # åˆ é™¤ temp æ–‡ä»¶å¤¹åŠæ‰€æœ‰å†…å®¹
mv old_name.txt new_name.txt  # é‡å‘½åæ–‡ä»¶
mv file.txt ~/rife   # ç§»åŠ¨æ–‡ä»¶åˆ° ~/rife ç›®å½•
```

---

## **ğŸ”¹ 2. è¿œç¨‹ä¼ è¾“æ–‡ä»¶**
### **ï¼ˆ1ï¼‰ä»æœ¬åœ°ä¸Šä¼ åˆ° GCP**
```bash
gcloud compute scp --recurse "D:\OneDrive\æ¡Œé¢\train_log" rainlimingrui@deeplearning-ming:~/rife --zone=us-west4-a
```
æˆ–è€…ï¼š
```bash
scp -r ~/local_folder rainlimingrui@deeplearning-ming:~/rife
```

### **ï¼ˆ2ï¼‰ä» GCP ä¸‹è½½åˆ°æœ¬åœ°**
gcloud compute scp rainlimingrui@deeplearning-ming:/home/rainlimingrui/yolo/shots_detected.zip D:\è§†é¢‘\ä¸‹è½½ --zone=us-west4-b
```

---

## **ğŸ”¹ 3. RIFE æ’å¸§è¿è¡Œ**
### **ï¼ˆ1ï¼‰è¿è¡Œå•ä¸ªè§†é¢‘æ’å¸§**
```bash
nohup python inference_video.py --video input.mp4 --output result.mp4 --exp 2 > log.txt 2>&1 &
disown -h %1
```
- **`nohup`**ï¼šè®©è¿›ç¨‹ä¿æŒåå°è¿è¡Œï¼Œå³ä½¿ SSH æ–­å¼€ä¹Ÿä¸ä¼šç»ˆæ­¢  
- **`--exp 2`**ï¼šæ’å¸§å€æ•°ï¼ˆ2Ã—ï¼Œ4Ã—ï¼Œ8Ã—â€¦ï¼‰  
- **`> log.txt 2>&1 &`**ï¼šæŠŠæ—¥å¿—å†™å…¥ `log.txt`ï¼Œå¹¶åå°è¿è¡Œ  
- **`disown -h %1`**ï¼šä» Shell è§£ç»‘ï¼Œè®©å®ƒå®Œå…¨ç‹¬ç«‹è¿è¡Œ  

### **ï¼ˆ2ï¼‰æŸ¥çœ‹æ’å¸§è¿›åº¦**
```bash
tail -f log.txt  # å®æ—¶æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶å†…å®¹
```

### **ï¼ˆ3ï¼‰æ‰¹é‡å¤„ç†å¤šä¸ªè§†é¢‘**
æ–°å»º `batch_rife.sh`ï¼š
```bash
#!/bin/bash
for video in 2.mp4 3.mp4 4.mp4 6.mp4; do
    echo "Processing $video..."
    nohup python inference_video.py --video $video --output result_$video --exp 2 > log_$video.txt 2>&1 &
    disown -h %1
done
```
ç„¶åè¿è¡Œï¼š
```bash
nohup bash batch_rife.sh > batch_log.txt 2>&1 &
disown -h %1
```

---

## **ğŸ”¹ 4. è¿›ç¨‹ & ä»»åŠ¡ç®¡ç†**
### **ï¼ˆ1ï¼‰æŸ¥çœ‹å½“å‰æ­£åœ¨è¿è¡Œçš„æ’å¸§ä»»åŠ¡**
```bash
ps aux | grep inference_video
```

### **ï¼ˆ2ï¼‰æ€æ­»æ’å¸§ä»»åŠ¡**
```bash
kill -9 <PID>  # ç”¨ ps aux æŸ¥è¯¢ PIDï¼Œç„¶åç»ˆæ­¢
```

### **ï¼ˆ3ï¼‰ç¡®ä¿è¿›ç¨‹å´©æºƒåè‡ªåŠ¨é‡å¯**
åˆ›å»º `auto_restart.sh`ï¼š
```bash
#!/bin/bash
while true; do
    if ! pgrep -f "inference_video.py"; then
        echo "Restarting RIFE at $(date)"
        nohup python inference_video.py --video 3.mp4 --output result3.mp4 --exp 2 > log.txt 2>&1 &
        disown -h %1
    fi
    sleep 60
done
```
ç„¶åï¼š
```bash
nohup bash auto_restart.sh > auto_restart.log 2>&1 &
disown -h %1
```

---

## **ğŸ”¹ 5. GPU & èµ„æºç®¡ç†**
### **ï¼ˆ1ï¼‰æ£€æŸ¥ GPU æ˜¯å¦åœ¨å·¥ä½œ**
```bash
nvidia-smi
```

### **ï¼ˆ2ï¼‰æ£€æŸ¥ CPU & å†…å­˜ä½¿ç”¨æƒ…å†µ**
```bash
htop  # éœ€è¦å®‰è£…ï¼šsudo apt install htop
```

### **ï¼ˆ3ï¼‰åœæ­¢/åˆ é™¤ GCP å®ä¾‹**
```bash
gcloud compute instances stop deeplearning-ming --zone=us-west4-a
gcloud compute instances delete deeplearning-ming --zone=us-west4-a
```

---

## **ğŸ”¹ 6. é€€å‡º & æ–­å¼€è¿æ¥**
### **ï¼ˆ1ï¼‰é€€å‡º SSH**
```bash
exit
```

### **ï¼ˆ2ï¼‰ä» `tail -f log.txt` é€€å‡º**
```bash
Ctrl + C
```

### **ï¼ˆ3ï¼‰å¼ºåˆ¶ç»ˆæ­¢å½“å‰è¿›ç¨‹**
```bash
Ctrl + Z  # æš‚åœä»»åŠ¡
kill -9 %1  # æ€æ­»åå°ä»»åŠ¡
```

---
